(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[444],{3752:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/categories",function(){return a(5720)}])},2470:function(e,t,a){"use strict";var n=a(5893),i=a(7294),r=a(8539),s=a(6788),o=a(3379),l=a(5770),c=a(7638),d=a(2200),h=a(4291),x=a(990),m=a(6912),p=a(4237),u=a(6795),j=a(2857),Z=a(7958),f=a(18),g=a(1220),b=a(3246),w=a(9129),v=a(5854),y=a(3837),k=a(5413),S=a(5861),C=a(1897),P=a(899),E=a(1664),T=a.n(E),_=a(5482);let z=[{text:"Dashboard",icon:(0,n.jsx)(f.Z,{}),path:"/admin"},{text:"E-Ticaret",icon:(0,n.jsx)(g.Z,{}),subItems:[{text:"\xdcr\xfcnler",path:"/admin/products"},{text:"Siparişler",path:"/admin/orders"},{text:"Kategoriler",path:"/admin/categories"},{text:"Y\xf6netim Paneli",path:"/admin"}]},{text:"Kullanıcılar",icon:(0,n.jsx)(b.Z,{}),path:"/admin/users"},{text:"Raporlar",icon:(0,n.jsx)(w.Z,{}),path:"/admin/reports"},{text:"Ayarlar",icon:(0,n.jsx)(v.Z,{}),path:"/admin/settings"}];t.Z=e=>{let{children:t,pageTitle:a}=e,[f,g]=(0,i.useState)(!1),[b,w]=(0,i.useState)(null),{signOut:v}=(0,_.a)(),E=()=>{g(!f)},A=e=>{w(b===e?null:e)},K=(0,n.jsxs)("div",{children:[(0,n.jsx)(r.Z,{children:(0,n.jsx)(s.Z,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:600},children:"Y\xf6netim Paneli"})}),(0,n.jsx)(o.Z,{children:z.map((e,t)=>(0,n.jsx)(i.Fragment,{children:e.subItems?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.ZP,{button:!0,onClick:()=>A(e.text),children:[(0,n.jsx)(c.Z,{children:e.icon}),(0,n.jsx)(d.Z,{primary:e.text}),b===e.text?(0,n.jsx)(y.Z,{}):(0,n.jsx)(k.Z,{})]}),(0,n.jsx)(h.Z,{in:b===e.text,timeout:"auto",unmountOnExit:!0,children:(0,n.jsx)(o.Z,{component:"div",disablePadding:!0,children:e.subItems.map(e=>(0,n.jsx)(T(),{href:e.path,passHref:!0,legacyBehavior:!0,children:(0,n.jsx)(l.ZP,{button:!0,component:"a",sx:{pl:4},children:(0,n.jsx)(d.Z,{primary:e.text})})},e.text))})})]}):(0,n.jsx)(T(),{href:e.path,passHref:!0,legacyBehavior:!0,children:(0,n.jsxs)(l.ZP,{button:!0,component:"a",children:[(0,n.jsx)(c.Z,{children:e.icon}),(0,n.jsx)(d.Z,{primary:e.text})]})})},e.text))}),(0,n.jsxs)(x.Z,{sx:{position:"absolute",bottom:0,width:"100%"},children:[(0,n.jsx)(m.Z,{}),(0,n.jsx)(T(),{href:"/",passHref:!0,legacyBehavior:!0,children:(0,n.jsxs)(l.ZP,{button:!0,component:"a",children:[(0,n.jsx)(c.Z,{children:(0,n.jsx)(S.Z,{})}),(0,n.jsx)(d.Z,{primary:"Ana Sayfaya D\xf6n"})]})}),(0,n.jsx)(m.Z,{}),(0,n.jsxs)(l.ZP,{button:!0,onClick:v,children:[(0,n.jsx)(c.Z,{children:(0,n.jsx)(C.Z,{})}),(0,n.jsx)(d.Z,{primary:"\xc7ıkış Yap"})]})]})]});return(0,n.jsxs)(x.Z,{sx:{display:"flex"},children:[(0,n.jsx)(p.ZP,{}),(0,n.jsx)(u.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(240,"px)")},ml:{sm:"".concat(240,"px")},bgcolor:"background.paper",color:"text.primary",boxShadow:"0 1px 4px rgba(0,0,0,0.1)"},children:(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(j.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:E,sx:{mr:2,display:{sm:"none"}},children:(0,n.jsx)(P.Z,{})}),(0,n.jsx)(s.Z,{variant:"h6",noWrap:!0,component:"div",children:a||"Dashboard"})]})}),(0,n.jsxs)(x.Z,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},children:[(0,n.jsx)(Z.ZP,{variant:"temporary",open:f,onClose:E,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:K}),(0,n.jsx)(Z.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},open:!0,children:K})]}),(0,n.jsxs)(x.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")},bgcolor:"#f4f6f8",minHeight:"100vh"},children:[(0,n.jsx)(r.Z,{}),t]})]})}},3839:function(e,t,a){"use strict";var n=a(3077),i=a(5893);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},9090:function(e,t,a){"use strict";var n=a(3077),i=a(5893);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},5720:function(e,t,a){"use strict";a.r(t);var n=a(5893),i=a(7294),r=a(990),s=a(2857),o=a(4677),l=a(4723),c=a(3453),d=a(2365),h=a(110),x=a(6541),m=a(6727),p=a(3977),u=a(9265),j=a(9090),Z=a(3839),f=a(2470),g=a(5482);t.default=()=>{let{user:e}=(0,g.a)(),[t,a]=(0,i.useState)([]),[b,w]=(0,i.useState)(!0),[v,y]=(0,i.useState)(null),[k,S]=(0,i.useState)(!1),[C,P]=(0,i.useState)({name:""}),[E,T]=(0,i.useState)(!1);(0,i.useEffect)(()=>{_()},[e]);let _=async()=>{if(e)try{w(!0),y(null);let t=await e.getIdToken(),n=await fetch("http://localhost:5000/api/admin/categories",{headers:{Authorization:"Bearer ".concat(t)}});if(!n.ok)throw Error("Kategoriler y\xfcklenemedi.");let i=await n.json();a(i)}catch(e){y(e.message)}finally{w(!1)}},z=()=>{S(!1)},A=async()=>{if(C.name)try{T(!0);let t=await e.getIdToken();if(!(await fetch("http://localhost:5000/api/admin/categories",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({name:C.name})})).ok)throw Error("Kategori eklenemedi.");S(!1),_()}catch(e){alert(e.message)}finally{T(!1)}},K=async t=>{if(window.confirm("Bu kategoriyi silmek istediğinizden emin misiniz?"))try{let a=await e.getIdToken();if(!(await fetch("http://localhost:5000/api/admin/categories/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}})).ok)throw Error("Kategori silinemedi.");_()}catch(e){alert(e.message)}};return(0,n.jsxs)(f.Z,{pageTitle:"Kategoriler",children:[(0,n.jsx)(r.Z,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)(o.Z,{variant:"contained",startIcon:(0,n.jsx)(Z.Z,{}),onClick:()=>{P({name:""}),S(!0)},children:"Yeni Kategori Ekle"})}),v&&(0,n.jsx)(l.Z,{severity:"error",children:v}),(0,n.jsx)(r.Z,{sx:{height:650,width:"100%",backgroundColor:"#fff",borderRadius:2},children:(0,n.jsx)(p._$,{rows:t,columns:[{field:"name",headerName:"Kategori Adı",flex:1,minWidth:200},{field:"createdAt",headerName:"Oluşturma Tarihi",width:180,valueGetter:e=>{var t;return(null===(t=e.row.createdAt)||void 0===t?void 0:t.seconds)?new Date(1e3*e.row.createdAt.seconds):""},valueFormatter:e=>e.value?new Date(e.value).toLocaleDateString("tr-TR"):""},{field:"actions",headerName:"İşlemler",width:150,sortable:!1,filterable:!1,renderCell:e=>(0,n.jsx)(r.Z,{children:(0,n.jsx)(s.Z,{size:"small",color:"error",onClick:()=>K(e.row.id),children:(0,n.jsx)(j.Z,{})})})}],pageSize:10,rowsPerPageOptions:[10,25,50],checkboxSelection:!0,disableSelectionOnClick:!0,components:{Toolbar:u.n},getRowId:e=>e.id,loading:b})}),(0,n.jsxs)(c.Z,{open:k,onClose:z,children:[(0,n.jsx)(d.Z,{children:"Yeni Kategori Ekle"}),(0,n.jsx)(h.Z,{children:(0,n.jsx)(x.Z,{label:"Kategori Adı",value:C.name,onChange:e=>P({...C,name:e.target.value}),fullWidth:!0,margin:"dense"})}),(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(o.Z,{onClick:z,children:"İptal"}),(0,n.jsx)(o.Z,{onClick:A,variant:"contained",disabled:E,children:"Kaydet"})]})]})]})}}},function(e){e.O(0,[22,390,723,345,541,716,873,770,916,793,230,592,888,774,179],function(){return e(e.s=3752)}),_N_E=e.O()}]);