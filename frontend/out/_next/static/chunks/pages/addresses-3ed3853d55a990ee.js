(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[763],{1922:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/addresses",function(){return r(5678)}])},3839:function(e,t,r){"use strict";var a=r(3077),n=r(5893);t.Z=(0,a.Z)((0,n.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},2855:function(e,t,r){"use strict";var a=r(3077),n=r(5893);t.Z=(0,a.Z)((0,n.jsx)("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business")},9090:function(e,t,r){"use strict";var a=r(3077),n=r(5893);t.Z=(0,a.Z)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},1313:function(e,t,r){"use strict";var a=r(3077),n=r(5893);t.Z=(0,a.Z)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},5861:function(e,t,r){"use strict";var a=r(3077),n=r(5893);t.Z=(0,a.Z)((0,n.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home")},1947:function(e,t,r){"use strict";var a=r(3077),n=r(5893);t.Z=(0,a.Z)((0,n.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn")},1919:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var a=r(7462),n=r(3366),i=r(7294),s=r(512),o=r(4780),l=r(7527),d=r(4001),c=r(1588),u=r(4867);function h(e){return(0,u.ZP)("MuiCardContent",e)}(0,c.Z)("MuiCardContent",["root"]);var p=r(5893);let m=["className","component"],x=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},h,t)},Z=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}}));var f=i.forwardRef(function(e,t){let r=(0,d.i)({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=r,l=(0,n.Z)(r,m),c=(0,a.Z)({},r,{component:o}),u=x(c);return(0,p.jsx)(Z,(0,a.Z)({as:o,className:(0,s.Z)(u.root,i),ownerState:c,ref:t},l))})},762:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var a=r(7462),n=r(3366),i=r(7294),s=r(512),o=r(4780),l=r(7527),d=r(4001),c=r(8864),u=r(1588),h=r(4867);function p(e){return(0,h.ZP)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var m=r(5893);let x=["className","raised"],Z=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},p,t)},f=(0,l.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"}));var v=i.forwardRef(function(e,t){let r=(0,d.i)({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=r,l=(0,n.Z)(r,x),c=(0,a.Z)({},r,{raised:o}),u=Z(c);return(0,m.jsx)(f,(0,a.Z)({className:(0,s.Z)(u.root,i),elevation:o?8:void 0,ref:t,ownerState:c},l))})},1032:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var a=r(3366),n=r(7462),i=r(7294),s=r(512),o=r(4867),l=r(4780),d=r(4142),c=r(5149),u=r(5098),h=r(7172),p=r(5893);let m=["className","component","disableGutters","fixed","maxWidth","classes"],x=(0,h.Z)(),Z=(0,u.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,d.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),f=e=>(0,c.Z)({props:e,name:"MuiContainer",defaultTheme:x}),v=(e,t)=>{let{classes:r,fixed:a,disableGutters:n,maxWidth:i}=e,s={root:["root",i&&`maxWidth${(0,d.Z)(String(i))}`,a&&"fixed",n&&"disableGutters"]};return(0,l.Z)(s,e=>(0,o.ZP)(t,e),r)};var g=r(6643),j=r(7527),y=r(4001),b=function(e={}){let{createStyledComponent:t=Z,useThemeProps:r=f,componentName:o="MuiContainer"}=e,l=t(({theme:e,ownerState:t})=>(0,n.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,r)=>{let a=e.breakpoints.values[r];return 0!==a&&(t[e.breakpoints.up(r)]={maxWidth:`${a}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,n.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}));return i.forwardRef(function(e,t){let i=r(e),{className:d,component:c="div",disableGutters:u=!1,fixed:h=!1,maxWidth:x="lg"}=i,Z=(0,a.Z)(i,m),f=(0,n.Z)({},i,{component:c,disableGutters:u,fixed:h,maxWidth:x}),g=v(f,o);return(0,p.jsx)(l,(0,n.Z)({as:c,ownerState:f,className:(0,s.Z)(g.root,d),ref:t},Z))})}({createStyledComponent:(0,j.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t["maxWidth".concat((0,g.Z)(String(r.maxWidth)))],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,y.i)({props:e,name:"MuiContainer"})})},2857:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var a=r(3366),n=r(7462),i=r(7294),s=r(512),o=r(4780),l=r(2101),d=r(7527),c=r(4001),u=r(3153),h=r(6643),p=r(1588),m=r(4867);function x(e){return(0,m.ZP)("MuiIconButton",e)}let Z=(0,p.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var f=r(5893);let v=["edge","children","className","color","disabled","disableFocusRipple","size"],g=e=>{let{classes:t,disabled:r,color:a,edge:n,size:i}=e,s={root:["root",r&&"disabled","default"!==a&&"color".concat((0,h.Z)(a)),n&&"edge".concat((0,h.Z)(n)),"size".concat((0,h.Z)(i))]};return(0,o.Z)(s,x,t)},j=(0,d.ZP)(u.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"default"!==r.color&&t["color".concat((0,h.Z)(r.color))],r.edge&&t["edge".concat((0,h.Z)(r.edge))],t["size".concat((0,h.Z)(r.size))]]}})(e=>{let{theme:t,ownerState:r}=e;return(0,n.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===r.edge&&{marginLeft:"small"===r.size?-3:-12},"end"===r.edge&&{marginRight:"small"===r.size?-3:-12})},e=>{var t;let{theme:r,ownerState:a}=e,i=null==(t=(r.vars||r).palette)?void 0:t[a.color];return(0,n.Z)({},"inherit"===a.color&&{color:"inherit"},"inherit"!==a.color&&"default"!==a.color&&(0,n.Z)({color:null==i?void 0:i.main},!a.disableRipple&&{"&:hover":(0,n.Z)({},i&&{backgroundColor:r.vars?"rgba(".concat(i.mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,l.Fq)(i.main,r.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===a.size&&{padding:5,fontSize:r.typography.pxToRem(18)},"large"===a.size&&{padding:12,fontSize:r.typography.pxToRem(28)},{["&.".concat(Z.disabled)]:{backgroundColor:"transparent",color:(r.vars||r).palette.action.disabled}})});var y=i.forwardRef(function(e,t){let r=(0,c.i)({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:l,color:d="default",disabled:u=!1,disableFocusRipple:h=!1,size:p="medium"}=r,m=(0,a.Z)(r,v),x=(0,n.Z)({},r,{edge:i,color:d,disabled:u,disableFocusRipple:h,size:p}),Z=g(x);return(0,f.jsx)(j,(0,n.Z)({className:(0,s.Z)(Z.root,l),centerRipple:!0,focusRipple:!h,disabled:u,ref:t},m,{ownerState:x,children:o}))})},5678:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return W}});var a=r(5893),n=r(7294),i=r(990),s=r(7182),o=r(1032),l=r(6788),d=r(4677),c=r(4723),u=r(762),h=r(1919),p=r(8573),m=r(1873),x=r(2857),Z=r(3453),f=r(2365),v=r(110),g=r(6541),j=r(1778),y=r(2166),b=r(6727),k=r(5861),C=r(2855),z=r(1947),A=r(3839),w=r(1313),M=r(9090),R=r(5482),S=r(1163);function W(){let{user:e,loading:t}=(0,R.a)(),r=(0,S.useRouter)(),[W,E]=(0,n.useState)([]),[P,H]=(0,n.useState)(!0),[I,N]=(0,n.useState)(!1),[T,B]=(0,n.useState)(null),[V,_]=(0,n.useState)({title:"",fullAddress:"",city:"",district:"",postalCode:"",isDefault:!1}),[D,L]=(0,n.useState)(null),[O,G]=(0,n.useState)(null);(0,n.useEffect)(()=>{t||e||r.push("/")},[e,t,r]),(0,n.useEffect)(()=>{e&&$()},[e]);let $=async()=>{try{H(!0);let t=await e.getIdToken();console.log("Adresler fetch ediliyor, token:",t?"var":"yok");let r=await fetch("http://localhost:5000/api/addresses",{headers:{Authorization:"Bearer ".concat(t)}});if(console.log("Adres response status:",r.status),r.ok){let e=await r.json();console.log("Adresler başarıyla alındı:",e),E(e)}else{let e=await r.json();console.error("Adres fetch hatası:",e),L("Adresler y\xfcklenirken hata oluştu")}}catch(e){console.error("Adres fetch catch hatası:",e),L("Adresler y\xfcklenirken hata oluştu")}finally{H(!1)}},F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(B(e),_({title:e.title,fullAddress:e.fullAddress,city:e.city,district:e.district,postalCode:e.postalCode,isDefault:e.isDefault})):(B(null),_({title:"",fullAddress:"",city:"",district:"",postalCode:"",isDefault:!1})),N(!0)},q=()=>{N(!1),B(null),_({title:"",fullAddress:"",city:"",district:"",postalCode:"",isDefault:!1})},X=async()=>{try{let t=await e.getIdToken(),r=T?"http://localhost:5000/api/addresses/".concat(T.id):"http://localhost:5000/api/addresses";(await fetch(r,{method:T?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(V)})).ok?(G(T?"Adres g\xfcncellendi":"Adres eklendi"),$(),q()):L("Adres kaydedilirken hata oluştu")}catch(e){L("Adres kaydedilirken hata oluştu")}},Y=async t=>{if(window.confirm("Bu adresi silmek istediğinizden emin misiniz?"))try{let r=await e.getIdToken();(await fetch("http://localhost:5000/api/addresses/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r)}})).ok?(G("Adres silindi"),$()):L("Adres silinirken hata oluştu")}catch(e){L("Adres silinirken hata oluştu")}},J=e=>{let t=e.toLowerCase();return t.includes("ev")||t.includes("home")?(0,a.jsx)(k.Z,{}):t.includes("iş")||t.includes("work")||t.includes("business")?(0,a.jsx)(C.Z,{}):(0,a.jsx)(z.Z,{})};return t?(0,a.jsx)(i.Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:(0,a.jsx)(s.Z,{})}):e?(0,a.jsxs)(o.Z,{maxWidth:"lg",sx:{py:4},children:[(0,a.jsxs)(i.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,children:[(0,a.jsx)(l.Z,{variant:"h4",component:"h1",children:"Adreslerim"}),(0,a.jsx)(d.Z,{variant:"contained",startIcon:(0,a.jsx)(A.Z,{}),onClick:()=>F(),children:"Yeni Adres Ekle"})]}),D&&(0,a.jsx)(c.Z,{severity:"error",sx:{mb:2},onClose:()=>L(null),children:D}),O&&(0,a.jsx)(c.Z,{severity:"success",sx:{mb:2},onClose:()=>G(null),children:O}),P?(0,a.jsx)(i.Z,{display:"flex",justifyContent:"center",py:4,children:(0,a.jsx)(s.Z,{})}):0===W.length?(0,a.jsx)(u.Z,{children:(0,a.jsxs)(h.Z,{sx:{textAlign:"center",py:4},children:[(0,a.jsx)(z.Z,{sx:{fontSize:64,color:"text.secondary",mb:2}}),(0,a.jsx)(l.Z,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Hen\xfcz adres eklenmemiş"}),(0,a.jsx)(l.Z,{variant:"body2",color:"text.secondary",mb:3,children:"İlk adresinizi ekleyerek başlayın"}),(0,a.jsx)(d.Z,{variant:"contained",startIcon:(0,a.jsx)(A.Z,{}),onClick:()=>F(),children:"İlk Adresimi Ekle"})]})}):(0,a.jsx)(p.ZP,{container:!0,spacing:3,children:W.map(e=>(0,a.jsx)(p.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,a.jsx)(u.Z,{children:(0,a.jsxs)(h.Z,{children:[(0,a.jsxs)(i.Z,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[(0,a.jsxs)(i.Z,{display:"flex",alignItems:"center",gap:1,children:[J(e.title),(0,a.jsx)(l.Z,{variant:"h6",component:"h3",children:e.title})]}),(0,a.jsxs)(i.Z,{children:[e.isDefault&&(0,a.jsx)(m.Z,{label:"Varsayılan",color:"primary",size:"small",sx:{mb:1}}),(0,a.jsx)(x.Z,{size:"small",onClick:()=>F(e),sx:{mr:1},children:(0,a.jsx)(w.Z,{})}),(0,a.jsx)(x.Z,{size:"small",color:"error",onClick:()=>Y(e.id),children:(0,a.jsx)(M.Z,{})})]})]}),(0,a.jsx)(l.Z,{variant:"body2",color:"text.secondary",paragraph:!0,children:e.fullAddress}),(0,a.jsxs)(l.Z,{variant:"body2",color:"text.secondary",children:[e.district,", ",e.city," ",e.postalCode]})]})})},e.id))}),(0,a.jsxs)(Z.Z,{open:I,onClose:q,maxWidth:"sm",fullWidth:!0,children:[(0,a.jsx)(f.Z,{children:T?"Adres D\xfczenle":"Yeni Adres Ekle"}),(0,a.jsx)(v.Z,{children:(0,a.jsxs)(i.Z,{sx:{pt:1},children:[(0,a.jsx)(g.Z,{label:"Adres Başlığı",fullWidth:!0,margin:"dense",value:V.title,onChange:e=>_({...V,title:e.target.value}),placeholder:"\xd6rn: Ev, İş, Anne Evi"}),(0,a.jsx)(g.Z,{label:"Tam Adres",fullWidth:!0,margin:"dense",multiline:!0,rows:3,value:V.fullAddress,onChange:e=>_({...V,fullAddress:e.target.value}),placeholder:"Sokak, mahalle, bina no, daire no"}),(0,a.jsx)(g.Z,{label:"İl\xe7e",fullWidth:!0,margin:"dense",value:V.district,onChange:e=>_({...V,district:e.target.value})}),(0,a.jsx)(g.Z,{label:"Şehir",fullWidth:!0,margin:"dense",value:V.city,onChange:e=>_({...V,city:e.target.value})}),(0,a.jsx)(g.Z,{label:"Posta Kodu",fullWidth:!0,margin:"dense",value:V.postalCode,onChange:e=>_({...V,postalCode:e.target.value})}),(0,a.jsx)(j.Z,{control:(0,a.jsx)(y.Z,{checked:V.isDefault,onChange:e=>_({...V,isDefault:e.target.checked})}),label:"Varsayılan adres olarak ayarla",sx:{mt:2}})]})}),(0,a.jsxs)(b.Z,{children:[(0,a.jsx)(d.Z,{onClick:q,children:"İptal"}),(0,a.jsx)(d.Z,{onClick:X,variant:"contained",children:T?"G\xfcncelle":"Ekle"})]})]})]}):null}}},function(e){e.O(0,[22,723,345,541,873,573,793,230,888,774,179],function(){return e(e.s=1922)}),_N_E=e.O()}]);