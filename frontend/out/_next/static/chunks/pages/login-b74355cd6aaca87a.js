(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(1632)}])},1632:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return S}});var n=a(5893),i=a(7294),t=a(990),s=a(1032),l=a(8864),o=a(6788),d=a(4723),c=a(4677),u=a(6912),x=a(6541),m=a(1769),h=a(7182),p=a(3453),b=a(2365),g=a(110),y=a(6727),f=a(7407),j=a(1509),Z=a(838),v=a(236),k=a(5482),w=a(1163),z=a(9008),C=a.n(z),G=a(1957);function S(){let{signInWithEmail:e,signInWithGoogle:r}=(0,k.a)();(0,w.useRouter)();let[a,z]=(0,i.useState)({email:"",password:""}),[S,_]=(0,i.useState)(!1),[E,W]=(0,i.useState)(""),[A,I]=(0,i.useState)(!1),[D,N]=(0,i.useState)(""),[P,Y]=(0,i.useState)(!1),[q,B]=(0,i.useState)(""),H=e=>{z({...a,[e.target.name]:e.target.value}),W("")},R=()=>a.email.trim()?/\S+@\S+\.\S+/.test(a.email)?!!a.password.trim()||(W("Şifre alanı zorunludur"),!1):(W("Ge\xe7erli bir e-posta adresi giriniz"),!1):(W("E-posta alanı zorunludur"),!1),O=async r=>{if(r.preventDefault(),R()){_(!0),W("");try{await e(a.email,a.password)}catch(r){let e="Giriş yapılırken bir hata oluştu";"auth/user-not-found"===r.code?e="Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı":"auth/wrong-password"===r.code?e="Şifre yanlış":"auth/invalid-email"===r.code?e="Ge\xe7ersiz e-posta adresi":"auth/too-many-requests"===r.code&&(e="\xc7ok fazla başarısız deneme. L\xfctfen daha sonra tekrar deneyin"),W(e)}finally{_(!1)}}},F=async()=>{_(!0),W("");try{await r()}catch(e){W("Google ile giriş yapılırken bir hata oluştu")}finally{_(!1)}},L=async e=>{e.preventDefault(),Y(!0),B("");let r=(0,G.v0)();try{await (0,G.LS)(r,D),B("Şifre sıfırlama bağlantısı e-posta adresinize g\xf6nderildi!")}catch(r){let e="Bir hata oluştu";"auth/user-not-found"===r.code?e="Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı":"auth/invalid-email"===r.code&&(e="Ge\xe7ersiz e-posta adresi"),B(e)}finally{Y(!1)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(C(),{children:[(0,n.jsx)("title",{children:"Giriş Yap - Ayakkabı Mağazası"}),(0,n.jsx)("meta",{name:"description",content:"Hesabınıza giriş yapın"})]}),(0,n.jsx)(t.Z,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",py:4},children:(0,n.jsx)(s.Z,{maxWidth:"sm",children:(0,n.jsxs)(l.Z,{elevation:24,sx:{p:4,borderRadius:3,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[(0,n.jsxs)(t.Z,{textAlign:"center",mb:4,children:[(0,n.jsx)(o.Z,{variant:"h4",component:"h1",fontWeight:700,color:"primary",gutterBottom:!0,children:"Giriş Yap"}),(0,n.jsx)(o.Z,{variant:"body1",color:"text.secondary",children:"Hesabınıza g\xfcvenli bir şekilde giriş yapın"})]}),E&&(0,n.jsx)(d.Z,{severity:"error",sx:{mb:3},children:E}),(0,n.jsx)(c.Z,{fullWidth:!0,variant:"outlined",size:"large",startIcon:(0,n.jsx)(f.Z,{}),onClick:F,disabled:S,sx:{mb:3,py:1.5,borderRadius:2,borderColor:"#ddd",color:"#333","&:hover":{borderColor:"#999",backgroundColor:"#f5f5f5"}},children:"Google ile Giriş Yap"}),(0,n.jsx)(u.Z,{sx:{mb:3},children:(0,n.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:"veya"})}),(0,n.jsxs)(t.Z,{component:"form",onSubmit:O,children:[(0,n.jsx)(x.Z,{fullWidth:!0,label:"E-posta",name:"email",type:"email",value:a.email,onChange:H,margin:"normal",required:!0,InputProps:{startAdornment:(0,n.jsx)(j.Z,{sx:{mr:1,color:"text.secondary"}})},sx:{mb:2}}),(0,n.jsx)(x.Z,{fullWidth:!0,label:"Şifre",name:"password",type:"password",value:a.password,onChange:H,margin:"normal",required:!0,InputProps:{startAdornment:(0,n.jsx)(Z.Z,{sx:{mr:1,color:"text.secondary"}})},sx:{mb:1}}),(0,n.jsx)(t.Z,{textAlign:"right",mb:2,children:(0,n.jsx)(m.Z,{component:"button",variant:"body2",onClick:()=>I(!0),sx:{color:"primary.main",textDecoration:"underline",cursor:"pointer"},children:"Şifremi Unuttum?"})}),(0,n.jsx)(c.Z,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:S,endIcon:S?(0,n.jsx)(h.Z,{size:20}):(0,n.jsx)(v.Z,{}),sx:{py:1.5,borderRadius:2,background:"linear-gradient(45deg, #667eea 30%, #764ba2 90%)","&:hover":{background:"linear-gradient(45deg, #5a6fd8 30%, #6a4190 90%)"}},children:S?"Giriş Yapılıyor...":"Giriş Yap"})]}),(0,n.jsx)(t.Z,{textAlign:"center",mt:3,children:(0,n.jsxs)(o.Z,{variant:"body2",color:"text.secondary",children:["Hesabınız yok mu?"," ",(0,n.jsx)(m.Z,{href:"/register",sx:{color:"primary.main",textDecoration:"none",fontWeight:600,"&:hover":{textDecoration:"underline"}},children:"Kayıt Ol"})]})})]})})}),(0,n.jsxs)(p.Z,{open:A,onClose:()=>I(!1),children:[(0,n.jsx)(b.Z,{children:"Şifre Sıfırlama"}),(0,n.jsxs)(g.Z,{children:[(0,n.jsx)(o.Z,{variant:"body2",mb:2,children:"Şifre sıfırlama bağlantısı g\xf6ndermek i\xe7in e-posta adresinizi girin."}),(0,n.jsx)(x.Z,{fullWidth:!0,label:"E-posta",type:"email",value:D,onChange:e=>N(e.target.value),margin:"normal",required:!0,InputProps:{startAdornment:(0,n.jsx)(j.Z,{sx:{mr:1,color:"text.secondary"}})}}),q&&(0,n.jsx)(d.Z,{severity:q.includes("g\xf6nderildi")?"success":"error",sx:{mt:2},children:q})]}),(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(c.Z,{onClick:()=>I(!1),children:"İptal"}),(0,n.jsx)(c.Z,{variant:"contained",onClick:L,disabled:P||!D,children:P?"G\xf6nderiliyor...":"G\xf6nder"})]})]})]})}}},function(e){e.O(0,[22,390,723,345,541,793,57,888,774,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);